(()=>{"use strict";function e(e,a,l){const i=document.createElement("span");return i.textContent=e,i.classList.add("button__content"),l&&i.classList.add("button__content_active"),i.dataset.type=a,i}class a{constructor(e,a){this.label=e.key,this.valueNormal=e.valueNormal,this.valueShift=e.valueShift,this.valueCaps=e.valueCaps,this.modifier=e.modifier,this.code=a,this.textarea=document.querySelector(".textarea"),this.element=this.createButton(),this.element.addEventListener("click",(e=>{this.onClick(e)}))}onClick(e){if(e.isTrusted)this.textarea.value+=this[e.target.dataset.type];else{const a=e.target.querySelector(".button__content_active");this.modifier||(this.textarea.value+=this[a.dataset.type])}}createButton(){const a=document.createElement("button"),l=e(this.modifier?this.label:this.valueNormal,"valueNormal",!0),i=e(this.modifier?this.label:this.valueShift,"valueShift",!1),t=e(this.modifier?this.label:this.valueCaps,"valueCaps",!1);return a.append(l),a.append(i),a.append(t),a.classList.add("button"),a.dataset.code=this.code,a}render(e){e.appendChild(this.element)}}function l(e){e.classList.toggle("button__content_active")}let i=!1,t=!1;function u(){i=!i}function o(e){"Shift"===e.key&&(u(),document.querySelectorAll('[data-type="valueShift"]').forEach((e=>{l(e)})),t?document.querySelectorAll('[data-type="valueCaps"]').forEach((e=>{l(e)})):document.querySelectorAll('[data-type="valueNormal"]').forEach((e=>{l(e)})));const a=document.querySelector(`[data-code=${e.code}]`);a&&a.classList.remove("button_active")}const v=document.querySelector("body"),r=document.createElement("main"),m=document.createElement("textarea"),f=document.createElement("div");var s,d;r.classList.add("main"),m.classList.add("textarea"),f.classList.add("keyboard-container"),r.append(m,f),v.append(r),s=f,d={en:{Backquote:{key:"§",valueNormal:"§",valueShift:"±",valueCaps:"§",modifier:!1},Digit1:{key:"1",valueNormal:"1",valueShift:"!",valueCaps:"1",modifier:!1},Digit2:{key:"2",valueNormal:"2",valueShift:"@",valueCaps:"2",modifier:!1},Digit3:{key:"3",valueNormal:"3",valueShift:"#",valueCaps:"3",modifier:!1},Digit4:{key:"4",valueNormal:"4",valueShift:"$",valueCaps:"4",modifier:!1},Digit5:{key:"5",valueNormal:"5",valueShift:"%",valueCaps:"5",modifier:!1},Digit6:{key:"6",valueNormal:"6",valueShift:"^",valueCaps:"6",modifier:!1},Digit7:{key:"7",valueNormal:"7",valueShift:"&",valueCaps:"7",modifier:!1},Digit8:{key:"8",valueNormal:"8",valueShift:"*",valueCaps:"8",modifier:!1},Digit9:{key:"9",valueNormal:"9",valueShift:"(",valueCaps:"9",modifier:!1},Digit0:{key:"0",valueNormal:"0",valueShift:")",valueCaps:"0",modifier:!1},Minus:{key:"-",valueNormal:"-",valueShift:"_",valueCaps:"-",modifier:!1},Equal:{key:"=",valueNormal:"=",valueShift:"+",valueCaps:"=",modifier:!1},Backspace:{key:"←",valueNormal:"",valueShift:"",valueCaps:"",modifier:!0},Tab:{key:"tab",valueNormal:"\t",valueShift:"\t",valueCaps:"\t",modifier:!1},KeyQ:{key:"q",valueNormal:"q",valueShift:"Q",valueCaps:"Q",modifier:!1},KeyW:{key:"w",valueNormal:"w",valueShift:"W",valueCaps:"W",modifier:!1},KeyE:{key:"e",valueNormal:"e",valueShift:"E",valueCaps:"E",modifier:!1},KeyR:{key:"r",valueNormal:"r",valueShift:"R",valueCaps:"R",modifier:!1},KeyT:{key:"t",valueNormal:"t",valueShift:"T",valueCaps:"T",modifier:!1},KeyY:{key:"y",valueNormal:"y",valueShift:"Y",valueCaps:"Y",modifier:!1},KeyU:{key:"u",valueNormal:"u",valueShift:"U",valueCaps:"U",modifier:!1},KeyI:{key:"i",valueNormal:"i",valueShift:"I",valueCaps:"I",modifier:!1},KeyO:{key:"o",valueNormal:"o",valueShift:"O",valueCaps:"O",modifier:!1},KeyP:{key:"p",valueNormal:"p",valueShift:"P",valueCaps:"P",modifier:!1},BracketLeft:{key:"[",valueNormal:"[",valueShift:"{",valueCaps:"[",modifier:!1},BracketRight:{key:"]",valueNormal:"]",valueShift:"}",valueCaps:"]",modifier:!1},Enter:{key:"Enter",valueNormal:"\n",valueShift:"\n",valueCaps:"\n",modifier:!1},CapsLock:{key:"capsLock",valueNormal:"",valueShift:"",valueCaps:"",modifier:!0},KeyA:{key:"a",valueNormal:"a",valueShift:"A",valueCaps:"A",modifier:!1},KeyS:{key:"s",valueNormal:"s",valueShift:"S",valueCaps:"S",modifier:!1},KeyD:{key:"d",valueNormal:"d",valueShift:"D",valueCaps:"D",modifier:!1},KeyF:{key:"f",valueNormal:"f",valueShift:"F",valueCaps:"F",modifier:!1},KeyG:{key:"g",valueNormal:"g",valueShift:"G",valueCaps:"G",modifier:!1},KeyH:{key:"h",valueNormal:"h",valueShift:"H",valueCaps:"H",modifier:!1},KeyJ:{key:"j",valueNormal:"j",valueShift:"J",valueCaps:"J",modifier:!1},KeyK:{key:"k",valueNormal:"k",valueShift:"K",valueCaps:"K",modifier:!1},KeyL:{key:"l",valueNormal:"l",valueShift:"L",valueCaps:"L",modifier:!1},Semicolon:{key:";",valueNormal:";",valueShift:":",valueCaps:";",modifier:!1},Quote:{key:"'",valueNormal:"'",valueShift:'"',valueCaps:"'",modifier:!1},Backslash:{key:"\\",valueNormal:"\\",valueShift:"|",valueCaps:"\\",modifier:!1},ShiftLeft:{key:"shift",valueNormal:"",valueShift:"",valueCaps:"",modifier:!0},IntlBackslash:{key:"`",valueNormal:"`",valueShift:"~",valueCaps:"`",modifier:!1},KeyZ:{key:"z",valueNormal:"z",valueShift:"Z",valueCaps:"Z",modifier:!1},KeyX:{key:"x",valueNormal:"x",valueShift:"X",valueCaps:"X",modifier:!1},KeyC:{key:"c",valueNormal:"c",valueShift:"C",valueCaps:"C",modifier:!1},KeyV:{key:"v",valueNormal:"v",valueShift:"V",valueCaps:"V",modifier:!1},KeyB:{key:"b",valueNormal:"b",valueShift:"B",valueCaps:"B",modifier:!1},KeyN:{key:"n",valueNormal:"n",valueShift:"N",valueCaps:"N",modifier:!1},KeyM:{key:"m",valueNormal:"m",valueShift:"M",valueCaps:"M",modifier:!1},Comma:{key:",",valueNormal:",",valueShift:"<",valueCaps:",",modifier:!1},Period:{key:".",valueNormal:".",valueShift:">",valueCaps:".",modifier:!1},Slash:{key:"/",valueNormal:"/",valueShift:"?",valueCaps:"/",modifier:!1},ShiftRight:{key:"shift",valueNormal:"",valueShift:"",valueCaps:"",modifier:!0},ControlLeft:{key:"ctrl",valueNormal:"",valueShift:"",valueCaps:"",modifier:!0},AltLeft:{key:"alt",valueNormal:"",valueShift:"",valueCaps:"",modifier:!0},MetaLeft:{key:"cmd",valueNormal:"",valueShift:"",valueCaps:"",modifier:!0},Space:{key:" ",valueNormal:" ",valueShift:" ",valueCaps:" ",modifier:!1},MetaRight:{key:"cmd",valueNormal:"",valueShift:"",valueCaps:"",modifier:!0},AltRight:{key:"alt",valueNormal:"",valueShift:"",valueCaps:"",modifier:!0},ArrowLeft:{key:"<",valueNormal:"<",valueShift:"<",valueCaps:"<",modifier:!1},ArrowUp:{key:"^",valueNormal:"^",valueShift:"^",valueCaps:"^",modifier:!1},ArrowRight:{key:">",valueNormal:">",valueShift:">",valueCaps:">",modifier:!1},ArrowDown:{key:"v",valueNormal:"v",valueShift:"v",valueCaps:"v",modifier:!1}},ru:{}},Object.keys(d.en).forEach((e=>{new a(d.en[e],e).render(s)})),document.addEventListener("keydown",(e=>{!function(e){e.preventDefault(),"Shift"===e.key&&(u(),document.querySelectorAll(".button__content_active").forEach((e=>{l(e)})),document.querySelectorAll('[data-type="valueShift"]').forEach((e=>{l(e)}))),"CapsLock"===e.key&&(t=!t);const a=document.querySelector(`[data-code=${e.code}]`);if(a){const e=new Event("click");a.dispatchEvent(e),a.classList.add("button_active")}}(e)})),document.addEventListener("keyup",(e=>{o(e)}))})();